import{m as g,j as s,L as b}from"./app-tI2J1YsO.js";import{I as o}from"./input-error-Dwl8M-kD.js";import{B as N}from"./createLucideIcon-DVLgItX8.js";import{I as v}from"./input-DmEn5zn0.js";import{L as k}from"./label-C31aROhU.js";import{u as y}from"./usePermissions-DZwOunDz.js";import{A as C}from"./app-layout-B3t13f0S.js";import"./index-w0u4n437.js";import"./index-CaKbJXop.js";const L=[{title:"Users",href:"/users"}],R=({user_permissions:c})=>{const{post:p,setData:d,data:m,processing:n,errors:i}=g({name:"",permissions:[]}),x=a=>{a.preventDefault();const r=route("permissions.store");p(r,{preserveState:!0,preserveScroll:!0})},l=a=>{const{name:r,value:e,type:h,checked:j}=a.target;d(t=>({...t,[r]:h==="checkbox"?j?[...t.permissions,e]:t.permissions.filter(f=>f!==e):e}))},u=y(c);return s.jsxs(C,{breadcrumbs:L,children:[s.jsx(b,{title:"permissions"}),s.jsxs("form",{onSubmit:x,className:"mx-auto mt-5 grid gap-5 md:w-8/12",children:[s.jsxs(k,{className:"flex flex-col gap-2",children:[s.jsx("span",{children:"Name:"}),s.jsx(v,{type:"text",name:"name",value:m.name,onChange:l,className:"input input-sm md:input-sm w-full max-w-xs"}),s.jsx(o,{message:i.name,className:"mt-2"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{children:"Permissions:"}),s.jsx(o,{message:i.permissions,className:"mt-2"}),s.jsx("div",{className:"grid grid-cols-1 gap-10 md:grid-cols-2",children:Object.entries(u).map(([a,r])=>s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold",children:a}),s.jsx("ul",{children:r.map(e=>s.jsx("li",{className:"mt-2",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"permissions",checked:m.permissions.includes(e.name),className:"checkbox checkbox-sm",value:e.name,onChange:l}),s.jsx("span",{className:"text-xs",children:e.name})]})},e.id))})]},a))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(N,{type:"submit",disabled:n,children:[" ",n?"Creating...":"Create"]})})]})]})};export{R as default};
