import{m as N,j as s,L as v}from"./app-tI2J1YsO.js";import{I as d}from"./input-error-Dwl8M-kD.js";import{B as y}from"./createLucideIcon-DVLgItX8.js";import{I as k}from"./input-DmEn5zn0.js";import{L as w}from"./label-C31aROhU.js";import{u as C}from"./usePermissions-DZwOunDz.js";import{A as I}from"./app-layout-B3t13f0S.js";import"./index-w0u4n437.js";import"./index-CaKbJXop.js";const L=[{title:"Users",href:"/users"}],T=({role:t,user_permissions:p})=>{var o;const{put:x,setData:h,data:n,processing:r,errors:c}=N({name:t.name,permissions:((o=t==null?void 0:t.permissions)==null?void 0:o.map(e=>e.name))??[]}),u=e=>{e.preventDefault();const m=route("permissions.update",t.id);x(m,{preserveState:!0,preserveScroll:!0})},l=e=>{const{name:m,value:a,type:f,checked:g}=e.target;h(i=>({...i,[m]:f==="checkbox"?g?[...i.permissions,a]:i.permissions.filter(b=>b!==a):a}))},j=C(p);return s.jsxs(I,{breadcrumbs:L,children:[s.jsx(v,{title:"permissions"}),s.jsxs("form",{onSubmit:u,className:"mx-auto mt-5 grid gap-5 md:w-8/12",children:[s.jsxs(w,{className:"flex flex-col gap-2",children:[s.jsx("span",{children:"Name:"}),s.jsx(k,{type:"text",name:"name",value:n.name,onChange:l,className:"input input-sm md:input-sm w-full max-w-xs"}),s.jsx(d,{message:c.name,className:"mt-2"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{children:"Permissions:"}),s.jsx(d,{message:c.permissions,className:"mt-2"}),s.jsx("div",{className:"grid grid-cols-1 gap-10 md:grid-cols-2",children:Object.entries(j).map(([e,m])=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsx("h2",{className:"font-bold",children:e}),e==="COORDINATOR"&&s.jsx("p",{className:"mb-5 text-xs text-red-400",children:`"Note: By selecting the coordinator, the default dashboard will be replaced with the coordinator's dashboard."`})]}),s.jsx("ul",{children:m.map(a=>s.jsx("li",{className:"mt-2",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"permissions",checked:n.permissions.includes(a.name),className:"checkbox checkbox-sm",value:a.name,onChange:l}),s.jsx("span",{className:"text-xs",children:a.name})]})},a.id))})]},e))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(y,{type:"submit",disabled:r,children:[" ",r?"Updating...":"Update"]})})]})]})};export{T as default};
